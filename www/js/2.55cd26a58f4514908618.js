webpackJsonp([2,8,12],{168:function(t,e,n){var a=n(169);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(25)("d0e932a2",a,!0)},169:function(t,e,n){e=t.exports=n(24)(void 0),e.push([t.i,".custom-btn[data-v-6777b022]{margin:10px}",""])},170:function(t,e,n){"use strict";var a=n(2);e.a={name:"cDelete",components:{QBtn:a.c,QDatetime:a.e,QIcon:a.g,QInput:a.i},data:function(){return{day:new Date}},methods:{clickOnSubmitButton:function(){this.$refs.submitButton.click()},submit:function(){var t=this;if(!this.day)return void a.t.create.negative({html:"Data em branco"});var e=new Date(this.day.getFullYear(),this.day.getMonth(),this.day.getDate(),0,0,0),n=new Date(this.day.getFullYear(),this.day.getMonth(),this.day.getDate(),23,59,59);this.$http.get("https://controledeponto.herokuapp.com/user/registers/"+e.getTime()+"/"+n.getTime(),{headers:{Authorization:"bearer "+this.$store.state.token}}).then(function(e){t.$store.commit("SET_TOKEN",e.body.token),e.body.dateRegisters&&e.body.dateRegisters.length?e.body.dateRegisters.sort(function(t,e){return new Date(t.timeStamp).getTime()-new Date(e.timeStamp).getTime()}):a.t.create.info({html:"Nenhum registro encontrado"}),t.$store.commit("ADD_REGISTERS",e.body.dateRegisters||[]),a.b.$emit("registers-stored")},function(e){4===parseInt(e.status/100)?t.$router.replace("/"):a.t.create.negative({html:"Erro ao consultar registros"})}).finally(function(){})}}}},171:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"layout-padding docs-input row justify-center"},[n("div",{staticStyle:{width:"500px","max-width":"90vw"}},[n("form",{on:{submit:function(e){e.preventDefault(),t.clickOnSubmitButton(e)}}},[n("p",{staticClass:"caption"},[t._v("Selecione o Dia")]),t._v(" "),n("q-datetime",{staticClass:"full-width",attrs:{color:"secondary"},model:{value:t.day,callback:function(e){t.day=e},expression:"day"}}),t._v(" "),n("q-btn",{ref:"submitButton",staticClass:"full-width custom-btn",attrs:{big:"",color:"primary"},on:{click:t.submit}},[t._v("\n        Buscar Registros\n      ")])],1)])])},r=[],i={render:a,staticRenderFns:r};e.a=i},172:function(t,e,n){"use strict";var a=n(2);e.a={name:"cRegisters",components:{QItem:a.j,QItemMain:a.k,QItemSeparator:a.l,QItemTile:a.m,QList:a.o},computed:{registers:function(){return this.$store.state.registers}},created:function(){this.$q.events.$on("registers-stored",this.populateView)},beforeDestroy:function(){this.$q.events.$off("registers-stored",this.populateView)},data:function(){return{data:[]}},methods:{populateView:function(){var t=this;this.data=[],this.registers.forEach(function(e){var n=new Date(e.timeStamp);n.setSeconds(0),t.data.push({date:n.toLocaleDateString(),time:n.toLocaleTimeString(),description:e.description,id:e._id})})},deleteConfirm:function(t,e,n){var r=this;a.a.create({title:"Confirmação",message:"Deseja realmente deletar o registro das "+n+" de "+e,buttons:[{label:"Cancelar",handler:function(){}},{label:"Ok",handler:function(){r.$http.delete("https://controledeponto.herokuapp.com/user/remove-register/"+t,{headers:{Authorization:"bearer "+r.$store.state.token}}).then(function(t){r.$store.commit("SET_TOKEN",t.body.token),r.data=[],a.t.create.positive({html:"Item deletado com sucesso"})},function(t){4===parseInt(t.status/100)?r.$router.replace("/"):a.t.create.negative({html:"Erro ao deletar registro"})}).finally(function(){})}}]})}}}},173:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.data,function(e){return n("q-list",{key:e.id,attrs:{"inset-separator":""}},[n("q-item",{on:{click:function(n){t.deleteConfirm(e.id,e.date,e.time)}}},[n("q-item-main",[n("q-item-tile",{attrs:{label:""}},[t._v("\n          "+t._s(e.time)+"\n        ")]),t._v(" "),n("q-item-tile",{attrs:{sublabel:""}},[t._v("\n          "+t._s(e.description)+"\n        ")])],1)],1)],1)}))},r=[],i={render:a,staticRenderFns:r};e.a=i},219:function(t,e,n){var a=n(220);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(25)("39314db4",a,!0)},220:function(t,e,n){e=t.exports=n(24)(void 0),e.push([t.i,"",""])},221:function(t,e,n){"use strict";var a=n(2),r=n(26),i=n(27);e.a={name:"delete",components:{QBtn:a.c,CDelete:r.default,CRegisters:i.default,QIcon:a.g,QLayout:a.n,QToolbar:a.r,QToolbarTitle:a.s},methods:{back:function(){this.$router.go(-1)}}}},222:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-layout",{ref:"layout",attrs:{view:"lHh Lpr fff","left-class":{"bg-grey-2":!0}}},[n("q-toolbar",[n("q-btn",{attrs:{flat:""},on:{click:t.back}},[n("q-icon",{attrs:{name:"keyboard_arrow_left"}})],1),t._v(" "),n("q-toolbar-title",[t._v("\n      Deletar Registro\n    ")])],1),t._v(" "),n("c-delete"),t._v(" "),n("c-registers")],1)},r=[],i={render:a,staticRenderFns:r};e.a=i},26:function(t,e,n){"use strict";function a(t){n(168)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(170),i=n(171),o=n(3),s=a,c=o(r.a,i.a,!1,s,"data-v-6777b022",null);e.default=c.exports},27:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(172),r=n(173),i=n(3),o=i(a.a,r.a,!1,null,null,null);e.default=o.exports},33:function(t,e,n){"use strict";function a(t){n(219)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(221),i=n(222),o=n(3),s=a,c=o(r.a,i.a,!1,s,"data-v-de5d9328",null);e.default=c.exports}});